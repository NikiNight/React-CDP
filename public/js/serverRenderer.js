module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="RFIE")}({"7ITC":function(e,t){e.exports=require("react-dom/server")},"9ClG":function(e,t){e.exports=require("react-hot-loader")},RFIE:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("7ITC"),i=(n("faye"),function(){return o.a.createElement("a",{href:"/",className:"logo"},"netflixroulette")}),c=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(i,null)))},u=function(e){return o.a.createElement("div",{className:"movie-founded"},o.a.createElement("img",{src:e.selectedMovie.poster_path,alt:"",className:"movie-founded__image"}),o.a.createElement("div",{className:"movie-founded__description"},o.a.createElement("div",{className:"movie-founded__title"},o.a.createElement("h1",null,e.selectedMovie.title),o.a.createElement("span",{className:"movie-founded__rating"},e.selectedMovie.vote_average)),o.a.createElement("p",{className:"movie-founded__category"},e.selectedMovie.genres.join(", ")),o.a.createElement("div",{className:"movie-founded__info"},o.a.createElement("p",{className:"movie-founded__year"},e.selectedMovie.release_date.slice(0,4)),o.a.createElement("p",{className:"movie-founded__duration"},e.selectedMovie.runtime)),o.a.createElement("p",{className:"movie-founded__about"},e.selectedMovie.overview)))},l=function(e){return o.a.createElement("button",{className:"button ".concat(e.isActive?"button_active":""),value:e.value,onClick:function(){return e.toggleButtonsState(e.queryValue)}},e.value)},s=n("h74D"),f=n("zr5I"),p=n.n(f),m=n("rKB8"),y=n("ZSx1"),v=n.n(y);function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={loading:!1,selectedMovie:{},savedMovies:{},sorting:"Date",query:{search:"",limit:500,searchBy:"title",sortBy:"release_date",sortOrder:"desc",offset:0}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_MOVIE":return d({},e,{selectedMovie:t.payload});case"SAVE_REQUEST_PARAM":return d({},e,{query:d({},e.query,b({},t.payload.param,t.payload.value))});case"SAVE_MOVIES":return d({},e,{savedMovies:t.payload.data});case"CHANGE_SORTING":return d({},e,{sorting:t.payload});case"CHANGE_FILTERING":return d({},e,{query:d({},e.query,{searchBy:t.payload})});case"SAVE_SEARCH_TEXT":return d({},e,{query:d({},e.query,{search:t.payload})});case"CHANGE_LOADING_STATUS":return d({},e,{loading:t.payload});default:return e}},_=function(e){return Object(m.createStore)(g,e,Object(m.applyMiddleware)(v.a))},E=function(e){return{type:"CHANGE_SORTING",payload:e}},S=function(e){return{type:"CHANGE_FILTERING",payload:e}},O=function(e){return{type:"SAVE_SEARCH_TEXT",payload:e}},j=function(e){return{type:"CHANGE_LOADING_STATUS",payload:e}},w=function(e){return function(t){var n,r;e&&t((n=e.param,r=e.value,{type:"SAVE_REQUEST_PARAM",payload:{param:n,value:r}})),t(j(!0));var o=Object.entries(_.getState().query).map(function(e){return"".concat(e[0],"=").concat(e[1])}).join("&"),a=_.getState().query.search;p.a.get("http://react-cdp-api.herokuapp.com/movies/?".concat(o)).then(function(e){t({type:"SAVE_MOVIES",payload:e.data}),t(j(!1)),_e.push("/search/".concat(a))})}},M=function(e){return function(t){""==e?(t(N(e)),_e.push("/")):p.a.get("http://react-cdp-api.herokuapp.com/movies/".concat(e)).then(function(n){t(N(n.data)),_e.push("/film/".concat(e))})}},N=function(e){return{type:"SELECT_MOVIE",payload:e}};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=P(t).call(this,e))||"object"!==T(o)&&"function"!=typeof o?k(r):o).toggleButtonsState=n.toggleButtonsState.bind(k(n)),n.searchMovieBy=n.searchMovieBy.bind(k(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.Component),n=t,(r=[{key:"toggleButtonsState",value:function(e){e!==this.props.searchBy&&this.props.changeFiltering(e)}},{key:"searchMovieBy",value:function(){var e=this.input.value;e.length>0?this.props.saveSearchText(e):this.props.saveSearchText(""),this.props.requestMovies()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"movie-search"},o.a.createElement("h1",null,"Find your movie"),o.a.createElement("input",{type:"text",name:"movie",className:"movie-search__input",ref:function(t){return e.input=t}}),o.a.createElement("div",{className:"movie-search__buttons-line"},o.a.createElement("div",{className:"movie-search__buttons"},o.a.createElement("span",null,"Search by"),o.a.createElement(l,{isActive:"title"==this.props.searchBy,value:"Title",queryValue:"title",toggleButtonsState:this.toggleButtonsState}),o.a.createElement(l,{isActive:"genres"==this.props.searchBy,value:"Genre",queryValue:"genres",toggleButtonsState:this.toggleButtonsState})),this.props.loading?o.a.createElement("button",{className:"button button_search button_disabled"},"Loading..."):o.a.createElement("button",{className:"button button_search",onClick:this.searchMovieBy},"Search")))}}])&&x(n.prototype,r),a&&x(n,a),t}();var R=Object(s.connect)(function(e){var t=e.query,n=e.loading;return{search:t.search,searchBy:t.searchBy,loading:n}},function(e){return{changeFiltering:function(t){return e(S(t))},saveSearchText:function(t){return e(O(t))},requestMovies:function(t){return e(w(t))}}})(q),A=function(e){return o.a.createElement("div",{className:"header-line"},o.a.createElement(i,null),e.isMovieSelected&&o.a.createElement("button",{className:"button button_reverse",onClick:function(){return e.backToSearch()}},"Search"))};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=D(t).call(this,e))||"object"!==B(o)&&"function"!=typeof o?G(r):o).backToSearch=n.backToSearch.bind(G(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,o.a.Component),n=t,(r=[{key:"backToSearch",value:function(){this.props.selectMovie("")}},{key:"render",value:function(){return o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(A,{isMovieSelected:0!==Object.keys(this.props.selectedMovie).length,backToSearch:this.backToSearch}),0!==Object.keys(this.props.selectedMovie).length?o.a.createElement(u,{selectedMovie:this.props.selectedMovie}):o.a.createElement(R,null)))}}])&&I(n.prototype,r),a&&I(n,a),t}();var F=Object(s.connect)(function(e){return{selectedMovie:e.selectedMovie,savedMovies:e.savedMovies}},function(e){return{selectMovie:function(t){return e(M(t))}}})(L),H=function(e){return o.a.createElement("div",{className:"sort-line"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("p",{className:"sort-line__movies-num"},e.moviesNum," movies found"),e.moviesNum>1&&o.a.createElement("div",{className:"sort-line__selectors"},"Sort by",o.a.createElement("span",{className:"button_minimal ".concat("Date"===e.activeSort?"button_minimal_active":""),onClick:function(){return e.toogleSorting("Date")}},"release date"),o.a.createElement("span",{className:"button_minimal ".concat("Rating"===e.activeSort?"button_minimal_active":""),onClick:function(){return e.toogleSorting("Rating")}},"raiting"))))},U=function(e){return o.a.createElement("article",{className:"movie",onClick:function(){return e.selectMovie(e.id)}},o.a.createElement("div",{className:"movie__image-wrapper"},o.a.createElement("img",{src:e.src,alt:"",className:"movie__image"})),o.a.createElement("div",{className:"movie__description"},o.a.createElement("div",null,o.a.createElement("h2",{className:"movie__title"},e.title),o.a.createElement("p",{className:"movie__category"},e.genre)),o.a.createElement("p",{className:"movie__year"},e.year)))};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=K(t).call(this,e))||"object"!==Z(o)&&"function"!=typeof o?Q(r):o).sortMoviesList=n.sortMoviesList.bind(Q(n)),n.selectMovie=n.selectMovie.bind(Q(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o.a.Component),n=t,(r=[{key:"selectMovie",value:function(e){this.props.selectMovie(e),window.scrollTo({top:0,behavior:"smooth"})}},{key:"sortMoviesList",value:function(){return"Date"===this.props.activeSort?this.props.movies.sort(function(e,t){return e.release_date<t.release_date?1:e.release_date>t.release_date?-1:0}):this.props.movies.sort(function(e,t){return e.vote_average<t.vote_average?1:e.vote_average>t.vote_average?-1:0}),this.props.movies}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"movies-list"},this.sortMoviesList().map(function(t){return o.a.createElement(U,{src:t.poster_path,title:t.title,genre:t.genres.join(", "),year:t.release_date.slice(0,4),id:t.id,selectMovie:e.selectMovie,key:t.id})}))}}])&&z(n.prototype,r),a&&z(n,a),t}();var W=Object(s.connect)(function(e){var t=e.selectedMovie;return{isMovieSelected:e.isMovieSelected,selectedMovie:t}},function(e){return{selectMovie:function(t){return e(M(t))}}})(J),Y=function(e){return o.a.createElement("div",{className:"no-movies"},o.a.createElement("p",{className:"no-movies__title"},e.text))},$=n("oncg");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ne(t).call(this,e))||"object"!==ee(o)&&"function"!=typeof o?re(r):o).toogleSorting=n.toogleSorting.bind(re(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,o.a.Component),n=t,(r=[{key:"toogleSorting",value:function(e){e!==this.props.sorting&&this.props.changeSorting(e)}},{key:"render",value:function(){return o.a.createElement("main",{className:"".concat(this.props.loading?"loading":"")},o.a.createElement($.Switch,null,o.a.createElement($.Route,{exact:!0,strict:!0,path:"/",component:function(){return o.a.createElement(Y,{text:"Please, type something to find"})}}),o.a.createElement($.Route,{exact:!0,path:["/search/:query","/film/:id"]},this.props.savedMovies.length>0&&o.a.createElement(H,{moviesNum:this.props.savedMovies.length,activeSort:this.props.sorting,toogleSorting:this.toogleSorting}),o.a.createElement("div",{className:"wrapper"},this.props.savedMovies.length>0?o.a.createElement(W,{movies:this.props.savedMovies,activeSort:this.props.sorting}):o.a.createElement(Y,{text:"No films found"}))),o.a.createElement($.Route,{component:function(){return o.a.createElement(Y,{text:"404"})}})))}}])&&te(n.prototype,r),a&&te(n,a),t}();var ie=Object(s.connect)(function(e){return{savedMovies:e.savedMovies,sorting:e.sorting,loading:e.loading}},function(e){return{requestMovies:function(){return e(w())},changeSorting:function(t){return e(E(t))}}})(ae);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=le(this,se(t).call(this,e))).state={hasError:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("div",{className:"wrapper wrapper_error"},o.a.createElement("h1",null,"Something went wrong.")):this.props.children}}])&&ue(n.prototype,r),a&&ue(n,a),t}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,de(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe,null,o.a.createElement(F,null)),o.a.createElement(pe,null,o.a.createElement(ie,null)),o.a.createElement(pe,null,o.a.createElement(c,null)))}}])&&ye(n.prototype,r),a&&ye(n,a),t}(),ge=(n("VNb8"),n("T8f9"),n("ZFcg")),_e=(n("9ClG"),Object(ge.createMemoryHistory)());var Ee=function(e){var t=e.Router,n=e.location,r=e.context,a=e.store;return o.a.createElement(s.Provider,{store:a},o.a.createElement(t,{history:_e,location:n,context:r},o.a.createElement(he,null)))};function Se(){return function(e,t){var n=_(),r={},i=function(){return o.a.createElement(Ee,{context:r,location:e.url,Router:$.StaticRouter,store:n})};if(Object(a.renderToString)(i()),r.url)return t.writeHead(302,{Location:r.url}),void t.end();var c=Object(a.renderToString)(i()),u=n.getState();t.send(function(e,t){return'\n      <!doctype html>\n      <html>\n        <head>\n          <meta charset=utf-8>\n          <title>React Server Side Rendering</title>\n          <link href="/css/main.css" rel="stylesheet" type="text/css">\n        </head>\n        <body>\n          <div id="root">'.concat(e,"</div>\n          <script>\n          window.PRELOADED_STATE = ").concat(JSON.stringify(t).replace(/</g,"\\u003c"),'\n        <\/script>\n          <script src="/js/main.js"><\/script>\n        </body>\n      </html>\n  ')}(c,u))}}n.d(t,"default",function(){return Se})},T8f9:function(e,t){e.exports=require("redux-persist/lib/storage")},VNb8:function(e,t){e.exports=require("redux-persist")},ZFcg:function(e,t){e.exports=require("history")},ZSx1:function(e,t){e.exports=require("redux-thunk")},cDcd:function(e,t){e.exports=require("react")},faye:function(e,t){e.exports=require("react-dom")},h74D:function(e,t){e.exports=require("react-redux")},oncg:function(e,t){e.exports=require("react-router-dom")},rKB8:function(e,t){e.exports=require("redux")},zr5I:function(e,t){e.exports=require("axios")}});